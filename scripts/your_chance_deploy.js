const hre = require("hardhat")

async function main() {
    const YOUR_CHANCE = await hre.ethers.getContractFactory("YOUR_CHANCE")
    const yourChance = await YOUR_CHANCE.deploy()
    console.log("Deploying contract...")
    await yourChance.deployed()
    console.log(`deployed contract to: ${yourChance.address}`)
    console.log(`deployed contract to: ${yourChance.provider}`)

    const accounts = await hre.ethers.getSigners()
    const sender = accounts[0]

    const value = "10000000000"
    const valueBN = ethers.BigNumber.from(value)

    console.log(`Sending transaction with value: ${valueBN}`)
    const tx = await yourChance.set_game("Question", "Answer", {
        value: valueBN,
    })
    await tx.wait()

    const balance = await hre.ethers.provider.getBalance(yourChance.address)
    console.log(`Balance of the contract: ${balance.toString()}`)
}

main()
    .then(() => process.exit(0))
    .catch((error) => {
        console.error(error)
        process.exit(1)
    })
