// Import the necessary Hardhat dependencies
const { expect } = require("chai")
const { ethers } = require("hardhat")

// Define the test suite
describe("swc101_1", function () {
    // Define the test case
    it("should not allow integer overflow in the add function", async function () {
        // Deploy the contract
        const swc101_1 = await ethers.getContractFactory("swc101_1")
        const contract = await swc101_1.deploy()

        // Call the add function with a large value that causes integer overflow
        const value = ethers.BigNumber.from(2).pow(256).sub(1)
        await expect(contract.add(value)).to.be.revertedWith("overflow")

        // Call the safe_add function with the same value, which should succeed
        await expect(contract.safe_add(value)).to.not.be.reverted
    })
})
