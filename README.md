# Ethereum-Smart-Contract-Automated-Vulnerability-Detection-and-Verification-Tool

## - Install dependencies

`yarn add --dev @nomiclabs/hardhat-ethers@npm:hardhat-deploy-ethers ethers @nomiclabs/hardhat-etherscan @nomiclabs/hardhat-waffle chai ethereum-waffle hardhat hardhat-contract-sizer hardhat-deploy hardhat-gas-reporter prettier prettier-plugin-solidity solhint solidity-coverage dotenv`

## `fetch_blockchain_data_scripts.js`

在这个示例中，我们使用了一个空的数组 `contractData` 来保存获取到的所有合约的信息。在每个交易中，我们首先检查交易是否为合约创建交易。如果是，我们使用 `ethers.ContractFactory`来解析合约字节码并获取合约 ABI，并且通过`provider.getCode()`的方法获得字节码。然后将所有信息添加到 `contractData`数组中。
如果交易不是合约创建交易，我们检查交易目标地址是否为合约地址，如果是，我们使用 ethers.Contract 对象连接到该地址，并使用 `interface` 属性来获取合约 `ABI`，然后将所有信息添加到 `contractData` 数组中。

 最后，我们使用 `fs.writeFileSync` 方法将 `contractData` 数组中的信息保存到一个 JSON 文件中。输出文件的格式化选项是 `null, 2`，这将在文件中使用两个空格来缩进每个对象的属性。在输出文件后，程序会在控制台上输出一条消息。

## 2.24
将`contractData.json`中的array的`bytecode`的部分单独拿出来。
在这个例子中，我们首先读取 `contractData.json` 文件，并使用 `JSON.parse` 方法将其解析为一个对象数组。然后，我们使用 `map` 方法对数组中的每个元素进行处理，提取其中的 `bytecode` 字段的值，并将所有值存储到一个新的数组中。最后，我们将新的数组输出到`typecodeData.json`中,为使用`slither`工具的做准备。
